section(class='pos-f-t', data-ng-controller='NavbarController as vm', ng-cloak)
  .collapse.navbar-header.hidden-sm-up#navbar-header
    ul(class='list-group', data-ng-if='!vm.isLoggedIn')
      li(class='list-group-item')
        a(role='button', class=['btn', 'btn-link', 'btn-sm'], ui-sref='login') Sign in
      li(class='list-group-item')
        a(role='button', class=['btn', 'btn-link', 'btn-sm'], ui-sref='register') Register
    ul(class='list-group', data-ng-if='vm.isLoggedIn')
      li(class=['list-group-item', 'user'])
        section(class='user-info')
          h3
            a(role='button', ui-sref='user.profile.view({userId: vm.user._id})') {{vm.user.profile.username}}
            span {{vm.user.profile.gender}}
          span {{vm.user.email}}
        svg(xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', height='100%', width='100%')
          defs
            linearGradient(id='Gradient')
              stop(offset='0.5', stop-color='white', stop-opacity='1')
              stop(offset='1', stop-color='white', stop-opacity='0')
            mask(id='mask')
              rect(x='0', y='0', width='100%', height='7rem', fill='url(#Gradient)')
          image(xlink:href='', data-ng-href='{{vm.user.profile.avatar}}', mask='url(#mask)', x='-10%', y='-50%', height='200%', width='200%')
      li(class='list-group-item')
        a(role='button', class=['btn', 'btn-link', 'btn-sm'], data-ng-click='vm.logout()') Sign out
  nav(class=['navbar', 'navbar-light', 'bg-faded'], role='navigation', scroll-to)
    a(class='navbar-brand', href='/')
      span(class='pull-xs-right')= title
      img(alt='Brand', data-ng-src='#{logo}')
    button(class=['navbar-toggler', 'pull-xs-right', 'hidden-sm-up'], type='button', data-toggle='collapse', data-target='#navbar-header', aria-expanded='false') &#9776;
    .collapse.navbar-toggleable-xs
      div(data-ng-if='!vm.isLoggedIn')
        ul(class=['nav', 'navbar-nav', 'pull-xs-right'])
          li(class='nav-item')
            a(role='button', class=['nav-link', 'btn', 'btn-secondary', 'btn-sm'], ui-sref='login'): span Sign in
      div(data-ng-if='vm.isLoggedIn')
        .pull-xs-right
          .pull-xs-left.navbar-user
            a(role='button', ui-sref='user.profile.view({userId: vm.user._id})')
              img(data-ng-src='{{vm.user.profile.avatar}}', alt='avatar', class='img-thumbnail')
            span(class='p-r-1') {{vm.user.profile.username}}
            a(role='button', class=['btn', 'btn-secondary', 'btn-sm'], data-ng-click='vm.logout()'): span Sign out
